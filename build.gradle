task test() {
  executeCommand('python3 -m unittest discover engine.test')
 }

// function to use CLI
def executeCommand(cmd) {
  def out = new StringBuffer()
  def err = new StringBuffer()
  def process = cmd.execute()
  process.consumeProcessOutput( out, err )
  process.waitFor()

  if(out.size() > 0 ) {
    println out
  } 

  if( err.size() > 0 ) {
    throw new GradleException('command failed')
  }
 }